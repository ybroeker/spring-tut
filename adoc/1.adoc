== Erzeugen des Projekts
:experimental:
:icons: font
:imagesdir: img
:source-highlighter: highlightjs

Das Erzeugen eines Projekts nehmen wir euch an dieser Stelle ab.
Wer nachlesen möchte, wie man ein einfaches Spring Boot Projekt mit Thymeleaf aufsetzen kann, findet
https://spring.io/guides/gs/serving-web-content[hier^] weitere Informationen.
Außerdem gibt es den https://start.spring.io/[SPRING INITIALIZR^], mit dem sich vorkonfigurierte Projekte erstellen lassen.

Für uns reicht es, dass vorbereitete Repo zu klonen:

[source, console]
----
git clone https://tdpe.techfak.uni-bielefeld.de/git/gpse-ss-2019.spring_boot_example.git
----



Wie das hier generierte Projekt im Detail aussieht, sehen wir uns im nächsten Schritt an.

=== Konfiguration

Das Projekt enthält einige nützliche vorkonfigurierte Plugins und Konfigurationen.

==== Tests

Das Projekt enthält Konfigurationen für getrennte Durchläufe von Unit- und Integration-Tests.
Erstere lassen sich mit `test` starten, letztere mit `integration-test`.

==== Testabdeckung

Für die Testabdeckung ist Jacoco konfiguriert, dieses misst die Abdeckung durch Unit- und Integration-Tests.

==== Checkstyle & PMD

Checkstyle und PMD sind passend vorkonfiguriert.

Wer Anpassungen vornehmen möchte, findet die Konfigurationen unter `codecheck/`.

==== .editorconfig

Dem Projekt liegt eine .editorconfig bei, diese sorgt für konstistente Grundeinstellungen der IDE.
Dies betrifft z.B. Encoding (UTF-8), Line-Endings (LF), Einrückung und weiteres.

==== .gitignore

Die .gitignore ist für Java und die üblichen IDEs vorkonfiguriert.



=== Bauen und Testen

Das Projekt lässt sich bereits bauen und auch testen.

Mit

[source, console]
----
./mvnw clean verify
----

führt man dabei den gesamten Build aus, welcher z.B. das Überprüfen des Code-Stils, Tests und das Packen der jar enthält.

Führen wir dies aus, sollte der Build korrekt durchlaufen.

[NOTE]
====
Statt direkt Maven nutzen wir den Maven-Wrapper.
Diesen ruft man im Project-Verzeichnis unter Linux mit `./mvnw` statt `mvn` auf und unter Windows mit `mvnw.cmd`.
Der Maven-Wrapper kümmert sich um die korrekte Maven-Version und Installation für dieses Projekt.
====


=== Starten

Wenn wir das Projekt nur starten wollen, ohne den gesamten Build durchzuführen, bietet Spring ein zusätzliches Maven-Goal:

[source, console]
----
./mvnw spring-boot:run
----


Die Ausgabe auf der Konsole sollte, nach den üblichen Meldungen die Anzeigen das Maven das Projekt baut, in etwa so aussehen (dieses Beispiel ist etwas gekürzt):

[source, console]
----
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.1.3.RELEASE)

2019-03-07 02:23:48.315  INFO 36287 --- [  restartedMain] gpse.example.ExampleApplication          : Starting ExampleApplication on YBMacBook.local with PID 36287 (/Users/yannick-broeker/shk/1919/gpse-ss-2019.spring_boot_example/target/classes started by yannick-broeker in /Users/yannick-broeker/shk/1919/gpse-ss-2019.spring_boot_example)
2019-03-07 02:23:48.319  INFO 36287 --- [  restartedMain] gpse.example.ExampleApplication          : No active profile set, falling back to default profiles: default
2019-03-07 02:23:48.500  INFO 36287 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-03-07 02:23:48.501  INFO 36287 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-03-07 02:23:54.357  INFO 36287 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-03-07 02:23:54.595  INFO 36287 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-03-07 02:23:54.598  INFO 36287 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.16]
2019-03-07 02:23:54.715  INFO 36287 --- [  restartedMain] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/yannick-broeker/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]
2019-03-07 02:23:55.544  INFO 36287 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-03-07 02:23:55.545  INFO 36287 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7043 ms
2019-03-07 02:23:56.877  INFO 36287 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-03-07 02:23:58.158  INFO 36287 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-03-07 02:23:58.312  INFO 36287 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '' <1>
2019-03-07 02:23:58.322  INFO 36287 --- [  restartedMain] gpse.example.ExampleApplication          : Started ExampleApplication in 10.597 seconds (JVM running for 11.473)
----

<1> Hier sieht man das die Anwendung automatisch einen Tomcat gestartet und auf http://localhost:8080 erreichbar ist.

Ruft man die Webapplikation nun im Browser auf, sollte sich in etwa folgendes Bild zeigen:

image::step1-webapp.png[WebApp]
